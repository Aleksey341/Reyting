# üìá –ë—ã—Å—Ç—Ä–∞—è –°–ø—Ä–∞–≤–∫–∞ Amvera - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∫–∞–∫ –ø–∞–º—è—Ç–∫—É –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ Amvera!**

---

## üîó URL –ö–æ–Ω—Å–æ–ª–∏

```
https://console.amvera.ru
```

---

## üìä BACKEND (FastAPI) - –í–∞—Ä–∏–∞–Ω—Ç A

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### BUILD –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| dockerfile | `backend/Dockerfile` |
| context | `.` |
| args | (–ø—É—Å—Ç–æ) |

### RUN –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| image | `${BUILD_IMAGE}` |
| command | `skip` |
| containerPort | `8000` |
| persistenceMount | `/app/uploads` (10Gi) |
| memory | `512Mi` |
| cpu | `0.5` |

### ENVIRONMENT –†–∞–∑–¥–µ–ª

```
DATABASE_URL=postgresql://reyting_user:–ü–ê–†–û–õ–¨@amvera-alex1976-cnpq-reyting-mo-rw:5432/reytingdb
DEBUG=False
API_TITLE=Dashboard API
API_VERSION=1.0.0
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
```

### ROUTING –†–∞–∑–¥–µ–ª

| Path | Port | Rewrite |
|------|------|---------|
| /api | 8000 | (–ø—É—Å—Ç–æ) |
| /docs | 8000 | (–ø—É—Å—Ç–æ) |
| /redoc | 8000 | (–ø—É—Å—Ç–æ) |
| /openapi.json | 8000 | (–ø—É—Å—Ç–æ) |

### DOMAINS –†–∞–∑–¥–µ–ª

```
api.reyting.amvera.ru
```

### HEALTHCHECK –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| path | `/health` |
| interval | `30` |
| timeout | `10` |
| failureThreshold | `3` |

---

## üé® FRONTEND (React) - –í–∞—Ä–∏–∞–Ω—Ç B

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### BUILD –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| dockerfile | `frontend/Dockerfile` |
| context | `.` |
| args | (–ø—É—Å—Ç–æ) |

### RUN –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| image | `${BUILD_IMAGE}` |
| command | `skip` |
| containerPort | `80` |
| persistenceMount | (–ø—É—Å—Ç–æ) |
| memory | `256Mi` |
| cpu | `0.25` |

### ENVIRONMENT –†–∞–∑–¥–µ–ª

```
REACT_APP_API_URL=https://api.reyting.amvera.ru/api
NODE_ENV=production
```

### ROUTING –†–∞–∑–¥–µ–ª

| Path | Port | Rewrite |
|------|------|---------|
| / | 80 | / |

### DOMAINS –†–∞–∑–¥–µ–ª

```
reyting.amvera.ru
www.reyting.amvera.ru
```

### HEALTHCHECK –†–∞–∑–¥–µ–ª

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| path | `/` |
| interval | `30` |
| timeout | `10` |
| failureThreshold | `3` |

---

## üóÑÔ∏è DATABASE (PostgreSQL) - –£–ñ–ï –ì–û–¢–û–í–ê ‚úì

–í–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å! –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ Amvera.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –•–æ—Å—Ç | `amvera-alex1976-cnpq-reyting-mo-rw` |
| –ü–æ—Ä—Ç | `5432` |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `reytingdb` |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | `reyting_user` |
| –ü–∞—Ä–æ–ª—å | (–ø–æ–ª—É—á–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ Amvera) |

**–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –û–î–ò–ù –†–ê–ó:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL –≤ –∫–æ–Ω—Å–æ–ª–∏ Amvera
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SQL –∏–∑ —Ñ–∞–π–ª–∞ `database_schema.sql`
3. –ì–æ—Ç–æ–≤–æ!

---

## ‚ö° –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–Ø

### Backend

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç
curl https://api.reyting.amvera.ru/health

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# {"status": "ok"}
```

**–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- https://api.reyting.amvera.ru/health ‚Üê –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å JSON
- https://api.reyting.amvera.ru/docs ‚Üê –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Frontend

**–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- https://reyting.amvera.ru ‚Üê –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console) –Ω–∞ –æ—à–∏–±–∫–∏

---

## üö´ –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò –ò –†–ï–®–ï–ù–ò–Ø

### –û—à–∏–±–∫–∞: "Dockerfile not found"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- dockerfile = `backend/Dockerfile` (–±–µ–∑ —Å–ª–µ—à–µ–π –≤ –Ω–∞—á–∞–ª–µ)
- context = `.`

**–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
```
dockerfile: /backend/Dockerfile  ‚úó
dockerfile: ./backend/Dockerfile ‚úó
context: backend/               ‚úó
```

**–ü–†–ê–í–ò–õ–¨–ù–û:**
```
dockerfile: backend/Dockerfile   ‚úì
context: .                       ‚úì
```

---

### –û—à–∏–±–∫–∞: "Cannot connect to database"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- DATABASE_URL —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –•–æ—Å—Ç: `amvera-alex1976-cnpq-reyting-mo-rw`
- –ë–î: `reytingdb`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `reyting_user`
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (–∑–∞–ø—É—Å—Ç–∏–ª–∏ `database_schema.sql`)

---

### –û—à–∏–±–∫–∞: "Connection refused on port 8000"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- containerPort = `8000` (–¥–ª—è backend)
- command = `skip`
- Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å "Running" (–∑–µ–ª—ë–Ω—ã–π)

---

### –û—à–∏–±–∫–∞: "CORS error" –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–ü—Ä–∏—á–∏–Ω–∞:** Frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Backend API.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- REACT_APP_API_URL = `https://api.reyting.amvera.ru/api`
- Backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É https://api.reyting.amvera.ru/docs
- Frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å "Running"

---

## üìã –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

**–ü–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º Backend:**
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω dockerfile: `backend/Dockerfile`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω context: `.`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ DATABASE_URL —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω containerPort: `8000`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ routing –¥–ª—è `/api` ‚Üí 8000

**–ü–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º Frontend:**
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω dockerfile: `frontend/Dockerfile`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω context: `.`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ REACT_APP_API_URL
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω containerPort: `80`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ routing –¥–ª—è `/` ‚Üí 80

**–ü–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:**
- [ ] Backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ https://api.reyting.amvera.ru/health
- [ ] Backend –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ https://api.reyting.amvera.ru/docs
- [ ] Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–æ https://reyting.amvera.ru
- [ ] –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] –†–µ–π—Ç–∏–Ω–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –†–ï–°–£–†–°–´

| –î–æ–∫—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----------|
| `AMVERA_CONFIGURATION_GUIDE.md` | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —á—Ç–æ –≤—ã–±–∏—Ä–∞—Ç—å |
| `AMVERA_CONFIGURATION.md` | –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `AMVERA_DEPLOYMENT_CHECKLIST.md` | –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è |
| `AMVERA_SETUP.md` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è |
| `AMVERA_DEPLOY.md` | –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è (Console, CI/CD) |
| `README.md` | –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ |

---

## üîó –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

```
GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
https://github.com/Aleksey341/Reyting

Amvera –∫–æ–Ω—Å–æ–ª—å:
https://console.amvera.ru

Amvera –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
https://amvera.ru/docs

Backend API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ø–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è):
https://api.reyting.amvera.ru/docs

Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Å–ª–µ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è):
https://reyting.amvera.ru
```

---

## üíæ –°–¢–†–£–ö–¢–£–†–ê –†–ï–ü–û–ó–ò–¢–û–†–ò–Ø

```
Reyting/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ amvera.yml
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ amvera.yml
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îÇ
‚îú‚îÄ‚îÄ database_schema.sql
‚îú‚îÄ‚îÄ amvera.yml
‚îú‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îú‚îÄ‚îÄ AMVERA_QUICK_REFERENCE.md ‚Üê –í–´ –ó–î–ï–°–¨
‚îú‚îÄ‚îÄ AMVERA_CONFIGURATION_GUIDE.md
‚îú‚îÄ‚îÄ AMVERA_DEPLOYMENT_CHECKLIST.md
‚îú‚îÄ‚îÄ AMVERA_CONFIGURATION.md
‚îú‚îÄ‚îÄ AMVERA_SETUP.md
‚îú‚îÄ‚îÄ AMVERA_DEPLOY.md
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ .gitignore
```

---

## ‚è±Ô∏è –ü–†–ò–ú–ï–†–ù–û–ï –í–†–ï–ú–Ø

| –≠—Ç–∞–ø | –í—Ä–µ–º—è |
|------|-------|
| –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ë–î, –¥–æ—Å—Ç—É–ø) | 10 –º–∏–Ω—É—Ç |
| Backend —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ | 20 –º–∏–Ω—É—Ç |
| Frontend —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ | 20 –º–∏–Ω—É—Ç |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 10 –º–∏–Ω—É—Ç |
| **–ò–¢–û–ì–û** | **60 –º–∏–Ω—É—Ç** |

---

**–£—Å–ø–µ—Ö–æ–≤ —Å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ**

**–í–µ—Ä—Å–∏—è**: 1.0.0
**–î–∞—Ç–∞**: 04.11.2025
