# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø–æ –±–ª–æ–∫–∞–º

**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø–æ –±–ª–æ–∫–∞–º (–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º):

```
–†–µ–π—Ç–∏–Ω–≥ –ú–û
‚îú‚îÄ‚îÄ –ë–ª–æ–∫: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (9)
‚îú‚îÄ‚îÄ –ë–ª–æ–∫: –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ (4)
‚îú‚îÄ‚îÄ –ë–ª–æ–∫: –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤ (3)
‚îî‚îÄ‚îÄ –ë–ª–æ–∫: –®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (3)
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤

### üìå –ë–ª–æ–∫ 1: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (9 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)

**–û—Ç–∫—Ä—ã—Ç—ã–µ (4):**
- `pm_01` - –û—Ü–µ–Ω–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–±–ª–∞—Å—Ç–∏
- `pm_02` - –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ê–ì–ü
- `pm_03` - –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≤—ã –ú–û
- `pm_04` - –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ó–∞–∫—Ä—ã—Ç—ã–µ (5):**
- `pm_05` - –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `pm_06` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–Ω–¥–∞—Ç–æ–≤
- `pm_07` - –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ê–ì–ü (–£—Ä–æ–≤–µ–Ω—å)
- `pm_08` - –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ê–ì–ü (–ö–∞—á–µ—Å—Ç–≤–æ)
- `pm_09` - –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ú–û

### üíö –ë–ª–æ–∫ 2: –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ (4 –∫—Ä–∏—Ç–µ—Ä–∏—è)

**–û—Ç–∫—Ä—ã—Ç—ã–µ (3):**
- `ca_01` - –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –º–æ–ª–æ–¥–µ–∂–∏ (–î–æ–±—Ä–æ–≤–æ–ª—å—á–µ—Å—Ç–≤–æ)
- `ca_02` - –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –º–æ–ª–æ–¥–µ–∂–∏ (–î–≤–∏–∂–µ–Ω–∏–µ –ü–µ—Ä–≤—ã—Ö)
- `ca_03` - –õ–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≥–ª–∞–≤—ã —Å –≤–µ—Ç–µ—Ä–∞–Ω–∞–º–∏ –°–í–û

**–ó–∞–∫—Ä—ã—Ç—ã–µ (1):**
- `ca_04` - –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –°–í–û

### üìà –ë–ª–æ–∫ 3: –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ú–û (3 –∫—Ä–∏—Ç–µ—Ä–∏—è)

**–û—Ç–∫—Ä—ã—Ç—ã–µ (2):**
- `dev_01` - –ö–∞–¥—Ä–æ–≤—ã–π —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π —Ä–µ–∑–µ—Ä–≤
- `dev_02` - –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞–Ω—Ç–∞–º–∏

**–ó–∞–∫—Ä—ã—Ç—ã–µ (1):**
- `dev_03` - –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ ¬´–ì–æ—Ä–¥–æ—Å—Ç—å –õ–∏–ø–µ—Ü–∫–æ–π –∑–µ–º–ª–∏¬ª

### ‚ùå –ë–ª–æ–∫ 4: –®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (3 —à—Ç—Ä–∞—Ñ–∞)

**–í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ:**
- `pen_01` - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç—å—é
- `pen_02` - –í–Ω—É—Ç—Ä–∏–º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
- `pen_03` - –î–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤

---

## üíæ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: dim_criteria_block

```sql
CREATE TABLE dim_criteria_block (
    block_id SERIAL PRIMARY KEY,
    block_name VARCHAR(255) NOT NULL UNIQUE,
    block_order INTEGER,           -- –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (1, 2, 3, 4)
    description TEXT,
    is_visible BOOLEAN DEFAULT true,
    created_at TIMESTAMP
);
```

**–í—Å—Ç–∞–≤–ª–µ–Ω—ã 4 –∑–∞–ø–∏—Å–∏:**
1. –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (block_order = 1)
2. –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ (block_order = 2)
3. –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ú–û (block_order = 3)
4. –®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (block_order = 4)

### –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞: dim_indicator

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–ª–æ–Ω–∫–∏:**
- `block_id` INTEGER REFERENCES dim_criteria_block(block_id)
- `criteria_order` INTEGER

**–í—Å—Ç–∞–≤–ª–µ–Ω—ã –≤—Å–µ 19 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ (pm_*, ca_*, dev_*)
- –ù–∞–∑–≤–∞–Ω–∏–µ
- block_id (—Å—Å—ã–ª–∫–∞ –Ω–∞ –±–ª–æ–∫)
- is_public (true/false –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö)
- –í–µ—Å –∏ –æ–ø–∏—Å–∞–Ω–∏–µ

### –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞: dim_penalty

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞:**
- `block` VARCHAR(100) -- e.g., "–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏"

**–í—Å—Ç–∞–≤–ª–µ–Ω—ã 3 —à—Ç—Ä–∞—Ñ–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏—è:**
- pen_01, pen_02, pen_03

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –º–æ–¥–µ–ª—è—Ö (models.py)

### –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å: DimCriteriaBlock

```python
class DimCriteriaBlock(Base):
    __tablename__ = "dim_criteria_block"

    block_id = Column(Integer, primary_key=True)
    block_name = Column(String(255), nullable=False, unique=True)
    block_order = Column(Integer)
    description = Column(Text)
    is_visible = Column(Boolean, default=True)
    created_at = Column(DateTime, server_default=func.now())

    # Relationships
    indicators = relationship("DimIndicator", back_populates="criteria_block")
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å: DimIndicator

```python
class DimIndicator(Base):
    # ... existing fields ...
    block_id = Column(Integer, ForeignKey("dim_criteria_block.block_id"))
    criteria_order = Column(Integer)

    # Relationships
    facts = relationship("FactIndicator", back_populates="indicator")
    criteria_block = relationship("DimCriteriaBlock", back_populates="indicators")
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å: DimPenalty

```python
class DimPenalty(Base):
    # ... existing fields ...
    block = Column(String(100))  # e.g., "–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏"
```

---

## üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è API (rating_routes.py)

### –î–æ–±–∞–≤–ª–µ–Ω—ã helper —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. get_criteria_blocks_for_mo()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ú–û, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –±–ª–æ–∫–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- mo_id: ID –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- period_id: ID –ø–µ—Ä–∏–æ–¥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- version_id: ID –≤–µ—Ä—Å–∏–∏ –º–µ—Ç–æ–¥–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
[
  {
    "block_id": 1,
    "block_name": "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç",
    "block_order": 1,
    "score": 25.5,           // –°—É–º–º–∞ –ø–æ –±–ª–æ–∫—É
    "criteria_count": 4,
    "criteria": [
      {
        "code": "pm_01",
        "name": "–û—Ü–µ–Ω–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–±–ª–∞—Å—Ç–∏",
        "description": "...",
        "is_public": true,
        "score": 8.5
      }
    ]
  }
]
```

#### 2. get_penalties_for_mo()
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —à—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ú–û.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
[
  {
    "code": "pen_01",
    "name": "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç—å—é",
    "description": "...",
    "block": "–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏",
    "score": -5.0
  }
]
```

### –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã

```python
from models import (
    DimMO, FactSummary, DimPeriod,
    DimIndicator, DimCriteriaBlock,  # NEW
    DimPenalty, FactIndicator, FactPenalty  # NEW
)
```

---

## üìÅ –ù–æ–≤—ã–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---|---|---|
| `backend/migrations/create_criteria_blocks.sql` | ‚úÖ –ù–û–í–´–ô | SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–ª–æ–∫–æ–≤ –∏ –≤—Å—Ç–∞–≤–∫–∏ –≤—Å–µ—Ö 19 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ |
| `backend/models.py` | ‚úÖ –û–ë–ù–û–í–õ–ï–ù | –î–æ–±–∞–≤–ª–µ–Ω–∞ DimCriteriaBlock, –æ–±–Ω–æ–≤–ª–µ–Ω—ã DimIndicator –∏ DimPenalty |
| `backend/routes/rating_routes.py` | ‚úÖ –û–ë–ù–û–í–õ–ï–ù | –î–æ–±–∞–≤–ª–µ–Ω—ã helper —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–∫–∞–º–∏ |
| `backend/routes/rating_routes_v2.py` | ‚úÖ –ù–û–í–´–ô | –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è API —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞) |
| `CRITERIA_BLOCKS_STRUCTURE.md` | ‚úÖ –ù–û–í–´–ô | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ |

---

## üîó GitHub Commits

```
0453d8c - Docs: Add comprehensive criteria blocks structure documentation
224e80b - Feat: Implement hierarchical criteria block structure for rating table
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| **–ë–ª–æ–∫–æ–≤** | 4 |
| **–í—Å–µ–≥–æ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** | 19 |
| **–û—Ç–∫—Ä—ã—Ç—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** | 12 |
| **–ó–∞–∫—Ä—ã—Ç—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** | 7 |
| **–®—Ç—Ä–∞—Ñ–Ω—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** | 3 |
| **–¢–∞–±–ª–∏—Ü –ë–î (–æ–±–Ω–æ–≤–ª–µ–Ω–æ/—Å–æ–∑–¥–∞–Ω–æ)** | 4 (1 –Ω–æ–≤–∞—è, 3 –æ–±–Ω–æ–≤–ª–µ–Ω—ã) |
| **–ú–æ–¥–µ–ª–µ–π (–æ–±–Ω–æ–≤–ª–µ–Ω–æ/—Å–æ–∑–¥–∞–Ω–æ)** | 3 (1 –Ω–æ–≤–∞—è, 2 –æ–±–Ω–æ–≤–ª–µ–Ω—ã) |
| **API —Ñ—É–Ω–∫—Ü–∏–π (–¥–æ–±–∞–≤–ª–µ–Ω–æ)** | 2 |

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ production –ë–î

```bash
# –ù–∞ Amvera —Å–µ—Ä–≤–µ—Ä–µ
psql -U reyting_user -d reytingdb -h amvera-alex1976-cnpq-reyting-mo-rw \
  -f backend/migrations/create_criteria_blocks.sql

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–∞—Ä–æ–ª–µ–º
export PGPASSWORD="–ø–∞—Ä–æ–ª—å"
psql -U reyting_user -d reytingdb -h amvera-alex1976-cnpq-reyting-mo-rw \
  -f backend/migrations/create_criteria_blocks.sql
```

### 2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å fact_indicator –¥–∞–Ω–Ω—ã–º–∏

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `fact_indicator`.

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```sql
INSERT INTO fact_indicator (mo_id, period_id, ind_id, version_id, score)
VALUES
  (1, 1, 1, 1, 8.5),   -- –õ–∏–ø–µ—Ü–∫, –ø–µ—Ä–∏–æ–¥ 2024-01, –∫—Ä–∏—Ç–µ—Ä–∏–π pm_01, score 8.5
  (1, 1, 2, 1, 9.0),   -- –õ–∏–ø–µ—Ü–∫, –ø–µ—Ä–∏–æ–¥ 2024-01, –∫—Ä–∏—Ç–µ—Ä–∏–π pm_02, score 9.0
  ...
```

### 3. –û–±–Ω–æ–≤–∏—Ç—å RatingPage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

```
–ë–ª–æ–∫: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
‚îú‚îÄ‚îÄ pm_01: –û—Ü–µ–Ω–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏... (8.5)
‚îú‚îÄ‚îÄ pm_02: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á... (9.0)
‚îú‚îÄ‚îÄ pm_03: –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ... (0)
‚îú‚îÄ‚îÄ pm_04: –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å (8.0)
‚îî‚îÄ‚îÄ –ë–ª–æ–∫ –∏—Ç–æ–≥–æ: 25.5

–ë–ª–æ–∫: –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ ca_01: –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –º–æ–ª–æ–¥–µ–∂–∏... (0)
‚îú‚îÄ‚îÄ ca_02: –î–≤–∏–∂–µ–Ω–∏–µ –ü–µ—Ä–≤—ã—Ö (0)
‚îú‚îÄ‚îÄ ca_03: –õ–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–µ—Ä–∞–Ω–∞–º–∏... (15.0)
‚îî‚îÄ‚îÄ –ë–ª–æ–∫ –∏—Ç–æ–≥–æ: 15.0
```

### 4. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ UI

–ö–∞–∂–¥—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –±—É–¥–µ—Ç –∫–æ–ª–æ–Ω–∫–æ–π –≤ —Ç–∞–±–ª–∏—Ü–µ —Å:
- –ö–æ–¥–æ–º –∫—Ä–∏—Ç–µ—Ä–∏—è (pm_01, ca_02, etc.)
- –ó–Ω–∞—á–µ–Ω–∏–µ–º score
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ —Ç–∏–ø—É (–æ—Ç–∫—Ä—ã—Ç—ã–π/–∑–∞–∫—Ä—ã—Ç—ã–π)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í –ë–î
```sql
-- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–ª–æ–∫–æ–≤
SELECT * FROM dim_criteria_block ORDER BY block_order;

-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ –±–ª–æ–∫–∞–º
SELECT b.block_name, i.code, i.name, i.is_public
FROM dim_criteria_block b
LEFT JOIN dim_indicator i ON i.block_id = b.block_id
ORDER BY b.block_order, i.code;

-- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
SELECT
    b.block_name,
    COUNT(i.ind_id) as total,
    SUM(CASE WHEN i.is_public THEN 1 ELSE 0 END) as public,
    SUM(CASE WHEN NOT i.is_public THEN 1 ELSE 0 END) as closed
FROM dim_criteria_block b
LEFT JOIN dim_indicator i ON i.block_id = b.block_id
GROUP BY b.block_id, b.block_name
ORDER BY b.block_order;
```

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**4 –±–ª–æ–∫–∞:**
- –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç | 9 | 4 | 5
- –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ | 4 | 3 | 1
- –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤ | 3 | 2 | 1
- –®—Ç—Ä–∞—Ñ—ã | 3 | 3 | 0

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** –ø–æ–º–µ—á–µ–Ω—ã `is_public = false`
- **API –¥–æ–ª–∂–µ–Ω —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å** –∑–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** –ø–æ–ª—É—á–∞—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ:
- **`CRITERIA_BLOCKS_STRUCTURE.md`** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø–æ –±–ª–æ–∫–∞–º

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫:
1. ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ production –ë–î
2. ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã–º–∏
3. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –≤ UI —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–π—Ç–∏–Ω–≥–∞
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ API

**–í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–ª–∏—Ç—ã –≤ GitHub –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é.**

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
