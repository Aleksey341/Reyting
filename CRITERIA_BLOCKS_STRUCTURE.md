# üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ –±–ª–æ–∫–∞–º

## üéØ –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–†–µ–π—Ç–∏–Ω–≥ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –≤ 4 –±–ª–æ–∫–∞ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏), –∫–∞–∂–¥—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å –∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏:

```
–†–µ–π—Ç–∏–Ω–≥ –ú–û
‚îú‚îÄ‚îÄ –ë–ª–æ–∫ 1: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (9 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)
‚îú‚îÄ‚îÄ –ë–ª–æ–∫ 2: –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ (4 –∫—Ä–∏—Ç–µ—Ä–∏—è)
‚îú‚îÄ‚îÄ –ë–ª–æ–∫ 3: –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ú–û (3 –∫—Ä–∏—Ç–µ—Ä–∏—è)
‚îî‚îÄ‚îÄ –ë–ª–æ–∫ 4: –®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (3 —à—Ç—Ä–∞—Ñ–∞)
```

---

## üìã –ë–ª–æ–∫ 1: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

### –û—Ç–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (–≤–∏–¥–Ω—ã –ø—É–±–ª–∏—á–Ω–æ)

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 1 | `pm_01` | –û—Ü–µ–Ω–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–±–ª–∞—Å—Ç–∏ | –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥–ª–∞–≤–æ–π –ú–û —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ |
| 2 | `pm_02` | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ê–ì–ü | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ê–ø–ø–∞—Ä–∞—Ç–∞ –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä–∞ |
| 3 | `pm_03` | –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–ª–∞–≤—ã –ú–û | –°—Ç–∞—Ç—É—Å –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å –≥–ª–∞–≤—ã –ú–û –≤ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ |
| 4 | `pm_04` | –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ |

### –ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏)

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 5 | `pm_05` | –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–ó–∞–∫—Ä—ã—Ç—ã–π) | –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ú–û |
| 6 | `pm_06` | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–Ω–¥–∞—Ç–æ–≤ (–ó–∞–∫—Ä—ã—Ç—ã–π) | –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–ª–∞–º–µ–Ω—Ç—Å–∫–∏—Ö –º–∞–Ω–¥–∞—Ç–æ–≤ |
| 7 | `pm_07` | –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ê–ì–ü (–£—Ä–æ–≤–µ–Ω—å) (–ó–∞–∫—Ä—ã—Ç—ã–π) | –£—Ä–æ–≤–µ–Ω—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ê–ì–ü |
| 8 | `pm_08` | –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ê–ì–ü (–ö–∞—á–µ—Å—Ç–≤–æ) (–ó–∞–∫—Ä—ã—Ç—ã–π) | –ö–∞—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ê–ì–ü |
| 9 | `pm_09` | –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ú–û (–ó–∞–∫—Ä—ã—Ç—ã–π) | –£—Ä–æ–≤–µ–Ω—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ú–û |

---

## üíö –ë–ª–æ–∫ 2: –ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ

### –û—Ç–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 1 | `ca_01` | –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –º–æ–ª–æ–¥–µ–∂–∏ (–î–æ–±—Ä–æ–≤–æ–ª—å—á–µ—Å—Ç–≤–æ) | –£—Ä–æ–≤–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–ª–æ–¥–µ–∂–∏ –≤ –¥–æ–±—Ä–æ–≤–æ–ª—å—á–µ—Å–∫—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
| 2 | `ca_02` | –í–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –º–æ–ª–æ–¥–µ–∂–∏ (–î–≤–∏–∂–µ–Ω–∏–µ –ü–µ—Ä–≤—ã—Ö) | –£—Ä–æ–≤–µ–Ω—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–ª–æ–¥–µ–∂–∏ –≤ –î–≤–∏–∂–µ–Ω–∏–µ –ü–µ—Ä–≤—ã—Ö |
| 3 | `ca_03` | –õ–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≥–ª–∞–≤—ã —Å –≤–µ—Ç–µ—Ä–∞–Ω–∞–º–∏ –°–í–û | –£—Ä–æ–≤–µ–Ω—å –ª–∏—á–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –≥–ª–∞–≤—ã —Å –≤–µ—Ç–µ—Ä–∞–Ω–∞–º–∏ –°–í–û |

### –ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 4 | `ca_04` | –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –°–í–û (–ó–∞–∫—Ä—ã—Ç—ã–π) | –ü–∞—Ä—Ç–∏–π–Ω–∞—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ –°–í–û |

---

## üìà –ë–ª–æ–∫ 3: –†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ú–û

### –û—Ç–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 1 | `dev_01` | –ö–∞–¥—Ä–æ–≤—ã–π —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π —Ä–µ–∑–µ—Ä–≤ | –ù–∞–ª–∏—á–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–≥–æ –∫–∞–¥—Ä–æ–≤–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–∞ |
| 2 | `dev_02` | –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞–Ω—Ç–∞–º–∏ | –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è –≤ –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö |

### –ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 3 | `dev_03` | –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ ¬´–ì–æ—Ä–¥–æ—Å—Ç—å –õ–∏–ø–µ—Ü–∫–æ–π –∑–µ–º–ª–∏¬ª (–ó–∞–∫—Ä—ã—Ç—ã–π) | –£—á–∞—Å—Ç–∏–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ ¬´–ì–æ—Ä–¥–æ—Å—Ç—å –õ–∏–ø–µ—Ü–∫–æ–π –∑–µ–º–ª–∏¬ª |

---

## ‚ùå –ë–ª–æ–∫ 4: –®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏

–ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –±–∞–ª–ª–∞–º–∏ (—à—Ç—Ä–∞—Ñ—ã)

| ‚Ññ | –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|---|
| 1 | `pen_01` | –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç—å—é | –ù–∞–ª–∏—á–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –æ—Ä–≥–∞–Ω–∞–º–∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç–∏ |
| 2 | `pen_02` | –í–Ω—É—Ç—Ä–∏–º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã | –ù–∞–ª–∏—á–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è |
| 3 | `pen_03` | –î–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤ | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ –ø—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤ |

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| **–í—Å–µ–≥–æ –±–ª–æ–∫–æ–≤** | 4 |
| **–û—Ç–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** | 12 |
| **–ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** | 7 |
| **–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** | 3 |
| **–ò–¢–û–ì–û –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤** | 19 |

---

## üîç –í–∏–¥–∏–º–æ—Å—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤

### –ü—É–±–ª–∏—á–Ω—ã–µ (–û—Ç–∫—Ä—ã—Ç—ã–µ)
- –í–∏–¥–Ω—ã –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ä–µ–π—Ç–∏–Ω–≥–∞
- –î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API

**–ö—Ä–∏—Ç–µ—Ä–∏–∏:**
- –í—Å–µ –∏–∑ –±–ª–æ–∫–∞ 1: pm_01, pm_02, pm_03, pm_04
- –í—Å–µ –∏–∑ –±–ª–æ–∫–∞ 2: ca_01, ca_02, ca_03
- –í—Å–µ –∏–∑ –±–ª–æ–∫–∞ 3: dev_01, dev_02
- –í—Å–µ –∏–∑ –±–ª–æ–∫–∞ 4: pen_01, pen_02, pen_03

**–ò—Ç–æ–≥–æ: 12 –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤**

### –ó–∞–∫—Ä—ã—Ç—ã–µ (–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ)
- –í–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ø—É–±–ª–∏—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
- –î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –∑–∞—â–∏—â–µ–Ω–Ω—ã–π API —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏:**
- –û—Ç –±–ª–æ–∫–∞ 1: pm_05, pm_06, pm_07, pm_08, pm_09
- –û—Ç –±–ª–æ–∫–∞ 2: ca_04
- –û—Ç –±–ª–æ–∫–∞ 3: dev_03

**–ò—Ç–æ–≥–æ: 7 –∑–∞–∫—Ä—ã—Ç—ã—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤**

---

## üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞: dim_criteria_block
```sql
CREATE TABLE dim_criteria_block (
    block_id SERIAL PRIMARY KEY,
    block_name VARCHAR(255) NOT NULL UNIQUE,
    block_order INTEGER,           -- –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (1-4)
    description TEXT,
    is_visible BOOLEAN DEFAULT true,
    created_at TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞: dim_indicator (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
```sql
ALTER TABLE dim_indicator ADD COLUMN block_id INTEGER REFERENCES dim_criteria_block(block_id);
ALTER TABLE dim_indicator ADD COLUMN criteria_order INTEGER;
```

### –¢–∞–±–ª–∏—Ü–∞: dim_penalty (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
```sql
ALTER TABLE dim_penalty ADD COLUMN block VARCHAR(100);  -- e.g., "–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏"
```

---

## üîÑ API Response —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### GET /api/rating?period=2024-01

```json
{
  "status": "success",
  "data": [
    {
      "mo_id": 1,
      "mo_name": "–õ–∏–ø–µ—Ü–∫",
      "leader_name": "–ß–µ–Ω—Ü–æ–≤ –†.–ò.",
      "score_total": 61,
      "zone": "green",
      "blocks": [
        {
          "block_id": 1,
          "block_name": "–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç",
          "block_order": 1,
          "score": 25.5,
          "criteria_count": 4,
          "criteria": [
            {
              "code": "pm_01",
              "name": "–û—Ü–µ–Ω–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –æ–±–ª–∞—Å—Ç–∏",
              "description": "...",
              "is_public": true,
              "score": 8.5
            },
            {
              "code": "pm_02",
              "name": "–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á –ê–ì–ü",
              "score": 9.0
            }
          ]
        },
        {
          "block_id": 2,
          "block_name": "–ó–∞–±–æ—Ç–∞ –∏ –≤–Ω–∏–º–∞–Ω–∏–µ",
          "block_order": 2,
          "score": 15.0,
          "criteria_count": 3,
          "criteria": [...]
        },
        {
          "block_id": 3,
          "block_name": "–†–∞–∑–≤–∏—Ç–∏–µ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –ú–û",
          "block_order": 3,
          "score": 12.0,
          "criteria_count": 2,
          "criteria": [...]
        }
      ],
      "penalties": [
        {
          "code": "pen_01",
          "name": "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç—å—é",
          "description": "...",
          "block": "–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏",
          "score": -5.0
        }
      ]
    }
  ]
}
```

---

## üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ

–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏:

```
‚Ññ | –ú–û | –§–ò–û –≥–ª–∞–≤—ã | [–ë–ª–æ–∫ 1: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç] | [–ë–ª–æ–∫ 2: –ó–∞–±–æ—Ç–∞] | [–ë–ª–æ–∫ 3: –†–∞–∑–≤–∏—Ç–∏–µ] | –®—Ç—Ä–∞—Ñ—ã | –ò–¢–û–ì
  |    |           | pm_01 | pm_02 | pm_03 | pm_04 | ca_01 | ca_02 | ca_03 | dev_01 | dev_02 | pen_01 | pen_02 | pen_03 | Œ£
```

–ö–∞–∂–¥—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
- **–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞** (–≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ)
- **–ö–æ–¥ –∫—Ä–∏—Ç–µ—Ä–∏—è** (–≤ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–µ)
- **–ó–Ω–∞—á–µ–Ω–∏–µ score** (–≤ —è—á–µ–π–∫–µ)
- **–°—É–º–º—É –ø–æ –±–ª–æ–∫—É** (–≤ –∫–æ–Ω—Ü–µ –±–ª–æ–∫–∞)

---

## üöÄ SQL –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å –±–ª–æ–∫–∞–º–∏
```bash
psql -U reyting_user -d reytingdb -h amvera-alex1976-cnpq-reyting-mo-rw \
  -f backend/migrations/create_criteria_blocks.sql
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
```sql
-- –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–ª–æ–∫–∏
SELECT * FROM dim_criteria_block ORDER BY block_order;

-- –ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ –±–ª–æ–∫–∞–º
SELECT
    b.block_name,
    i.code,
    i.name,
    i.is_public
FROM dim_criteria_block b
LEFT JOIN dim_indicator i ON i.block_id = b.block_id
ORDER BY b.block_order, i.code;

-- –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
SELECT
    b.block_name,
    COUNT(i.ind_id) as criteria_count,
    SUM(CASE WHEN i.is_public THEN 1 ELSE 0 END) as public_count,
    SUM(CASE WHEN NOT i.is_public THEN 1 ELSE 0 END) as closed_count
FROM dim_criteria_block b
LEFT JOIN dim_indicator i ON i.block_id = b.block_id
GROUP BY b.block_id, b.block_name
ORDER BY b.block_order;
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ó–∞–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** –ø–æ–º–µ—á–µ–Ω—ã —Ñ–ª–∞–≥–æ–º `is_public = false` –≤ —Ç–∞–±–ª–∏—Ü–µ `dim_indicator`
2. **–®—Ç—Ä–∞—Ñ–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏** —Å–æ–¥–µ—Ä–∂–∞—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `score_negative` –ø–æ–ª—è `fact_penalty`
3. **–ë–ª–æ–∫–∏ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã** –ø–æ `block_order` –æ—Ç 1 –¥–æ 4
4. **–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã** –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ –ø–æ `weight` (–µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)
5. **–ö–æ–¥ –∫—Ä–∏—Ç–µ—Ä–∏—è** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ —Ç–∞–±–ª–∏—Ü–µ —Ä–µ–π—Ç–∏–Ω–≥–∞

---

**–î–∞—Ç–∞:** 16 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
